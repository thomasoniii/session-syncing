(this["webpackJsonpsession-syncing"]=this["webpackJsonpsession-syncing"]||[]).push([[0],[,,,,function(e,n,t){e.exports=t(11)},,,,,function(e,n,t){},function(e,n,t){},function(e,n,t){"use strict";t.r(n);var a=t(0),o=t.n(a),i=t(3),s=t.n(i),r=(t(9),t(1)),l=(t(10),new BroadcastChannel("sessions")),c=["bugs_bunny","daffy_duck","elmer_fudd","porky_pig","sylvester","tweety_bird","wile_e_coyote"];var u=function(){var e=Object(a.useState)(""),n=Object(r.a)(e,2),t=n[0],i=n[1],s=Object(a.useState)((function(){return function(e){l.postMessage(e),i("")}})),u=Object(r.a)(s,1)[0];return Object(a.useEffect)((function(){l.addEventListener("message",(function(e){e.data===t&&i("")}))}),[t]),o.a.createElement("div",{className:"App"},o.a.createElement("p",null,"Demonstration of communication across browser tabs."),o.a.createElement("p",null,"Open up as many copies of this page as you want.",o.a.createElement("a",{href:window.location.href,target:"_blank",rel:"noopener noreferrer"},"Open in new window")),o.a.createElement("p",null,'In each window, you can choose to login to whichever database you want. Just select the database from the dropdown menu, and you\'ll be considered logged in. For example, log into "bugs_bunny" in this window, "bugs_bunny" in a second window, and "daffy_duck" in a third window.'),o.a.createElement("p",null,"Next, in any window you choose, log out of your current database. Observe the other windows - if they were logged into the same database, they'll automatically log out of it. If they were logged into a different database, they'll be unaffected."),o.a.createElement("p",null,"Code is at"," ",o.a.createElement("a",{href:"https://github.com/thomasoniii/session-syncing"},"https://github.com/thomasoniii/session-syncing")),o.a.createElement("div",null,"Select a database to log into:",o.a.createElement("select",{onChange:function(e){return i(e.target.value)},value:t},""===t&&o.a.createElement("option",null,"--select database--"),c.map((function(e){return o.a.createElement("option",{key:e,value:e},e)})))),o.a.createElement("div",{className:"logged-in-block"},t?o.a.createElement("span",null,"You are currently logged into ",o.a.createElement("b",null,t)):"You are not logged in"),t&&o.a.createElement("div",null,o.a.createElement("button",{onClick:function(){return u(t)}},"Log out")))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(o.a.createElement(u,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[4,1,2]]]);
//# sourceMappingURL=main.0c36f4c0.chunk.js.map